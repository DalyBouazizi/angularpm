
<div class="min-h-screen bg-gray-100 flex flex-col p-8">
  <div class="max-w-6xl mb-8 text-left">
    <h1 class="text-3xl font-bold text-blue-600">{{ title }}</h1>
  </div>

 <!-- ✅ AJOUT : Champ de recherche -->
 <div class="mb-6 max-w-6xl">
  <input 
    [(ngModel)]="searchTerm" 
    placeholder="Rechercher un projet" 
    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
  />
</div>

  <div class="flex justify-center items-center gap-8 w-full">

    <!-- ✅ AJOUT : Condition si aucun projet trouvé -->
    @if (filteredProjects.length === 0) {
      <p class="text-gray-500 text-lg italic">Aucun projet trouvé</p>
    } @else {


    <!-- ✅ CHANGEMENT : Utiliser la nouvelle syntaxe @for -->
    @for (project of filteredProjects; track project.name) {
      <div class="bg-white shadow-lg rounded-2xl p-6 w-1/3 h-auto flex flex-col">
        <h2 class="text-xl font-semibold mb-2 text-gray-800">{{ project.name }}</h2>
        
       
        <p class="text-gray-500">{{ project.description }}</p>
        
       
        <p class="text-gray-500">Date de début : {{ project.dateDeb | date:'dd/MM/yyyy' }}</p>
        <p class="text-gray-500">Date de fin : {{ project.dateFin | date:'dd/MM/yyyy' }}</p>

        <p 
          class="py-1 px-3 rounded-full inline-block mt-2"
          [ngClass]="{
            'bg-green-200 text-green-700': project.status === 'Terminé',
            'bg-blue-200 text-blue-700': project.status === 'En cours',
            'bg-yellow-200 text-yellow-700': project.status === 'En attente'
          }"
        >
          Statut : {{ project.status }}
        </p>

        <app-task-list [tasks]="project.tasks"></app-task-list>
      
    <button 
    (click)="selectProject(project)"
      class="mt-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors"
    >
      Voir les détails
    </button>
        </div>
      }
    }
   
    </div>
    @if (selectedProject) {
      <app-project-detail [project]="selectedProject"></app-project-detail>
    }
</div>